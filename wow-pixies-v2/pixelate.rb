####
#
#   test 512x512 to 94x94 pixelate format


require_relative '../artbase'

#####
##   512x512  (94x94)  -
##      5*94 =  470 + 42 = 512
##
##  e.g.   94.times {|i| puts "#{(2+5*i+42.0/94.0*i).to_i} => #{i}," }
##

###  (98x98)
##      5*98  = 490 + 22 = 512
##
##  e.g.   98.times {|i| puts "#{(1+5*i+22.0/98.0*i).to_i} => #{i}," }
##

PIXEL_OFFSET = {
  1 => 0,
  6 => 1,
  11 => 2,
  16 => 3,
  21 => 4,
  27 => 5,
  32 => 6,
  37 => 7,
  42 => 8,
  48 => 9,
  53 => 10,
  58 => 11,
  63 => 12,
  68 => 13,
  74 => 14,
  79 => 15,
  84 => 16,
  89 => 17,
  95 => 18,
  100 => 19,
  105 => 20,
  110 => 21,
  115 => 22,
  121 => 23,
  126 => 24,
  131 => 25,
  136 => 26,
  142 => 27,
  147 => 28,
  152 => 29,
  157 => 30,
  162 => 31,
  168 => 32,
  173 => 33,
  178 => 34,
  183 => 35,
  189 => 36,
  194 => 37,
  199 => 38,
  204 => 39,
  209 => 40,
  215 => 41,
  220 => 42,
  225 => 43,
  230 => 44,
  236 => 45,
  241 => 46,
  246 => 47,
  251 => 48,
  257 => 49,
  262 => 50,
  267 => 51,
  272 => 52,
  277 => 53,
  283 => 54,
  288 => 55,
  293 => 56,
  298 => 57,
  304 => 58,
  309 => 59,
  314 => 60,
  319 => 61,
  324 => 62,
  330 => 63,
  335 => 64,
  340 => 65,
  345 => 66,
  351 => 67,
  356 => 68,
  361 => 69,
  366 => 70,
  371 => 71,
  377 => 72,
  382 => 73,
  387 => 74,
  392 => 75,
  398 => 76,
  403 => 77,
  408 => 78,
  413 => 79,
  418 => 80,
  424 => 81,
  429 => 82,
  434 => 83,
  439 => 84,
  445 => 85,
  450 => 86,
  455 => 87,
  460 => 88,
  465 => 89,
  471 => 90,
  476 => 91,
  481 => 92,
  486 => 93,
  492 => 94,
  497 => 95,
  502 => 96,
  507 => 97,
}


PIXEL_OFFSET_94 = {
  2 => 0,
  7 => 1,
  12 => 2,
  18 => 3,
  23 => 4,
  29 => 5,
  34 => 6,
  40 => 7,
  45 => 8,
  51 => 9,
  56 => 10,
  61 => 11,
  67 => 12,
  72 => 13,
  78 => 14,
  83 => 15,
  89 => 16,
  94 => 17,
  100 => 18,
  105 => 19,
  110 => 20,
  116 => 21,
  121 => 22,
  127 => 23,
  132 => 24,
  138 => 25,
  143 => 26,
  149 => 27,
  154 => 28,
  159 => 29,
  165 => 30,
  170 => 31,
  176 => 32,
  181 => 33,
  187 => 34,
  192 => 35,
  198 => 36,
  203 => 37,
  208 => 38,
  214 => 39,
  219 => 40,
  225 => 41,
  230 => 42,
  236 => 43,
  241 => 44,
  247 => 45,
  252 => 46,
  258 => 47,
  263 => 48,
  268 => 49,
  274 => 50,
  279 => 51,
  285 => 52,
  290 => 53,
  296 => 54,
  301 => 55,
  307 => 56,
  312 => 57,
  317 => 58,
  323 => 59,
  328 => 60,
  334 => 61,
  339 => 62,
  345 => 63,
  350 => 64,
  356 => 65,
  361 => 66,
  366 => 67,
  372 => 68,
  377 => 69,
  383 => 70,
  388 => 71,
  394 => 72,
  399 => 73,
  405 => 74,
  410 => 75,
  415 => 76,
  421 => 77,
  426 => 78,
  432 => 79,
  437 => 80,
  443 => 81,
  448 => 82,
  454 => 83,
  459 => 84,
  464 => 85,
  470 => 86,
  475 => 87,
  481 => 88,
  486 => 89,
  492 => 90,
  497 => 91,
  503 => 92,
  508 => 93,
}


range = (0..2)
range.each do |id|

  img = Image.read( "./i/#{id}.png" )
  puts "     #{img.width}x#{img.height}"
  pix = img.pixelate( PIXEL_OFFSET )

  pix.save( "./ii/#{id}_(2).png")
end

puts "bye"